### **مدل کنترل کیفیت در یک کارخانه: جدول نمونه، محاسبه پارامترها و اهمیت هر پارامتر**

فرض کنید یک کارخانه سیستمی برای **کنترل کیفیت محصولات** راه‌اندازی کرده است که هدف آن شناسایی محصولات معیوب از محصولات سالم است.

---

### **۱. جدول داده‌های نمونه (ماتریس درهم‌ریختگی - Confusion Matrix)**

||**پیش‌بینی شده: معیوب**|**پیش‌بینی شده: سالم**|**مجموع**|
|---|---|---|---|
|**واقعی: معیوب**|70|10|**80**|
|**واقعی: سالم**|15|105|**120**|
|**مجموع**|**85**|**115**|**200**|

---

### **تعریف اصطلاحات:**

- **True Positive (TP - مثبت واقعی):** تعداد محصولات معیوب که درست شناسایی شده‌اند (70 محصول).
- **False Positive (FP - مثبت کاذب):** تعداد محصولات سالم که به اشتباه معیوب شناسایی شده‌اند (15 محصول).
- **True Negative (TN - منفی واقعی):** تعداد محصولات سالم که به درستی شناسایی شده‌اند (105 محصول).
- **False Negative (FN - منفی کاذب):** تعداد محصولات معیوب که به اشتباه سالم شناسایی شده‌اند (10 محصول).

---

### **۲. محاسبه پارامترها**

---

#### **1. دقت (Accuracy)**

**فرمول:**

$$Accuracy = \frac{TP + TN}{TP + TN + FP + FN}$$

**محاسبه:**

$$Accuracy = \frac{70 + 105}{70 + 105 + 15 + 10} = \frac{175}{200} = 0.875$$

**دقت = ۸۷.۵٪**

**اهمیت:**  
دقت نشان می‌دهد که مدل به طور کلی چقدر در شناسایی صحیح محصولات سالم و معیوب موفق بوده است. دقت یک معیار کلی است و برای فهم عملکرد عمومی مدل مفید است، اما در شرایطی که یکی از کلاس‌ها مهم‌تر باشد، نیاز به پارامترهای دیگر نیز داریم.

---

#### **2. دقت مثبت یا Precision**

**فرمول:**

$$Precision = \frac{TP}{TP + FP}$$

**محاسبه:**

$$Precision = \frac{70}{70 + 15} = \frac{70}{85} \approx 0.82$$

**دقت مثبت ≈ ۸۲٪**

**اهمیت:**  
دقت مثبت نشان می‌دهد که از بین تمام محصولاتی که به عنوان معیوب شناسایی شده‌اند، چه تعداد واقعاً معیوب هستند. این پارامتر برای جلوگیری از **رد شدن محصولات سالم به اشتباه** اهمیت دارد، زیرا رد کردن محصولات سالم می‌تواند باعث **هزینه‌های اضافی** و **کاهش تولید** شود.

---

#### **3. حساسیت (Sensitivity) یا یادآوری (Recall)**

**فرمول:**

$$Recall = \frac{TP}{TP + FN}$$

**محاسبه:**

$$Recall = \frac{70}{70 + 10} = \frac{70}{80} = 0.875$$

**حساسیت = ۸۷.۵٪**

**اهمیت:**  
حساسیت نشان می‌دهد که چه درصدی از محصولات معیوب به درستی شناسایی شده‌اند. این پارامتر برای جلوگیری از **ورود محصولات معیوب به بازار** بسیار حیاتی است، زیرا محصولات معیوب می‌توانند باعث **نارضایتی مشتریان** و **خسارت‌های احتمالی** شوند.

---

#### **4. اختصاصی بودن (Specificity)**

**فرمول:**

$$Specificity = \frac{TN}{TN + FP}$$

**محاسبه:**

$$Specificity = \frac{105}{105 + 15} = \frac{105}{120} = 0.875$$

**اختصاصی بودن = ۸۷.۵٪**

**اهمیت:**  
این پارامتر نشان می‌دهد که مدل چقدر در شناسایی صحیح محصولات سالم موفق بوده است. اختصاصی بودن برای **جلوگیری از دور ریختن محصولات سالم** و کاهش **هزینه‌های تولید** اهمیت زیادی دارد.

---

#### **5. امتیاز F1 (F1 Score)**

**فرمول:**

$$F1 = 2 \cdot \frac{Precision \cdot Recall}{Precision + Recall}$$

**محاسبه:**

$$F1 = 2 \cdot \frac{0.82 \cdot 0.875}{0.82 + 0.875} \approx 0.847$$

**امتیاز F1 ≈ ۸۴.۷٪**

**اهمیت:**  
امتیاز F1 تعادل بین دقت مثبت و حساسیت را نشان می‌دهد و زمانی که هم شناسایی صحیح محصولات معیوب و هم جلوگیری از رد شدن محصولات سالم اهمیت دارد، معیار مناسبی است.

---

### **۳. جمع‌بندی اهمیت پارامترها در کنترل کیفیت کارخانه**

1. **دقت مثبت (Precision):**  
    مهم برای جلوگیری از رد شدن محصولات سالم به عنوان معیوب و کاهش هدررفت محصولات.
    
2. **حساسیت (Sensitivity):**  
    ضروری برای اطمینان از اینکه تمام محصولات معیوب شناسایی شوند و هیچ محصول معیوبی وارد بازار نشود.
    
3. **اختصاصی بودن (Specificity):**  
    برای کاهش اشتباه در شناسایی محصولات سالم به عنوان معیوب و بهبود بهره‌وری تولید اهمیت دارد.
    
4. **امتیاز F1:**  
    تعادل بین شناسایی محصولات معیوب و جلوگیری از هدررفت محصولات سالم.
    

در مدل کنترل کیفیت کارخانه، باید به **حساسیت** و **دقت مثبت** توجه ویژه‌ای داشت، زیرا هر دو در تضمین کیفیت محصولات و کاهش هزینه‌ها حیاتی هستند.